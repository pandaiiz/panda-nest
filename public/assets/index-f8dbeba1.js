import{r as t,Y as y,Z as g,a as w,j as e,S as C,B as x,T as b,aK as R}from"./index-c8148c41.js";import{C as T}from"./index-135037d4.js";import"./index-c467507d.js";import{T as E}from"./index-1c8757fc.js";import K from"./form-fd663227.js";import{getColumns as j}from"./constants-c0c56a87.js";import{g as k}from"./service-4669bc73.js";import{s as P}from"./index.module-c4e1ad75.js";import v from"./index-605b6dfa.js";import{I as B}from"./index-ea2daff0.js";import"./index-c51a9aa8.js";import"./index.browser-7e542916.js";import"./index-93ef027d.js";const{Title:D}=b;function G(){const[c,a]=t.useState(!1),[m,r]=t.useState([]),[l,i]=t.useState([]),[s,p]=t.useState({}),{data:d,loading:u,run:n}=y(k),f=t.useMemo(()=>j(),[]);g(async()=>{await n(s)},[JSON.stringify(s)]);function h(o){p(R.cloneDeep(o))}return w(T,{children:[e(D,{heading:6,children:"开料"}),e(K,{onSearch:h}),e("div",{className:P["button-group"],children:e(C,{children:e(x,{type:"primary",icon:e(B,{}),onClick:()=>a(!0),children:"开料"})})}),e(E,{rowKey:"id",loading:u,pagination:!1,columns:f,data:d,rowSelection:{type:"checkbox",selectedRowKeys:m,onChange:(o,S)=>{r(o),i(S)}}}),c&&e(v,{data:l,onClose:()=>{a(!1),i([]),r([]),n(s)}})]})}export{G as default};
