import{Y as m,aN as f,r as v,j as l,d as g,aK as d,e as u,aM as p,B as K}from"./index-c8148c41.js";import"./index-c467507d.js";import{T as R}from"./index-1c8757fc.js";import{d as S}from"./service-c4de76ee.js";const k=({detailData:r,setDetailData:a,setSelectedRow:y})=>{const{data:s}=m(()=>f("CATEGORY")),h=[{title:"品名",dataIndex:"categoryId",align:"center",render:(c,t,o)=>l(g,{placeholder:"请选择品名",allowClear:!0,value:t.categoryId,onChange:e=>{const n=d.cloneDeep(r),i=s.find(x=>x.id===e);n[o].categoryId=e,n[o].categoryTitle=i.title,n[o].categoryKey=i.key,a(n)},children:s==null?void 0:s.map(e=>l(g.Option,{value:e.id,children:e.title},e.id))})},{title:"款号",dataIndex:"styleCode",align:"center",render:(c,t,o)=>l(u,{value:t.styleCode,onChange:e=>{const n=d.cloneDeep(r);n[o].styleCode=e,a(n)}})},{title:"圈号",dataIndex:"circle",align:"center",render:(c,t,o)=>l(u,{value:t.circle,onChange:e=>{const n=d.cloneDeep(r);n[o].circle=e,a(n)}})},{title:"件重",dataIndex:"singleWeight",align:"center",render:(c,t,o)=>l(p,{value:t.singleWeight,onChange:e=>{const n=d.cloneDeep(r);n[o].singleWeight=e,a(n)}})},{title:"数量",dataIndex:"quantity",align:"center",render:(c,t,o)=>l(p,{value:t.quantity,onChange:e=>{const n=d.cloneDeep(r);n[o].quantity=e,a(n)}})},{title:"生产状态",dataIndex:"productionStatus",align:"center"},{title:"操作",align:"center",render:(c,t,o)=>l(K,{type:"text",onClick:()=>w(t.id,o),children:"删除"})}],w=async(c,t)=>{c&&await S(c),a(r.filter((o,e)=>e!==t))},[C,I]=v.useState([]);return l(R,{columns:h,data:r,pagination:!1,rowKey:"id",rowSelection:{type:"checkbox",selectedRowKeys:C,onChange:(c,t)=>{I(c),y(t)}}})};export{k as default};
