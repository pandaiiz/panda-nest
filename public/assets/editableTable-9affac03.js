import{Y as x,aN as I,r as f,j as c,d as g,aK as s,e as u,aM as p,B as v}from"./index-f1de8f67.js";import"./index-27455959.js";import{T as R}from"./index-0a89d5bb.js";import{d as b}from"./service-ea9f51a1.js";const k=({detailData:r,setDetailData:a,setSelectedRow:h})=>{const{data:d}=x(()=>I("CATEGORY")),y=[{title:"品名",dataIndex:"category",align:"center",render:(l,e,o)=>c(g,{placeholder:"请选择品名",allowClear:!0,value:e.category,onChange:(n,t)=>{const i=s.cloneDeep(r);i[o].category=n,i[o].categoryName="children"in t?t.children:"",a(i)},children:d==null?void 0:d.map(n=>c(g.Option,{value:n.key,children:n.title},n.id))})},{title:"款号",dataIndex:"styleCode",align:"center",render:(l,e,o)=>c(u,{value:e.styleCode,onChange:n=>{const t=s.cloneDeep(r);t[o].styleCode=n,a(t)}})},{title:"圈号",dataIndex:"circle",align:"center",render:(l,e,o)=>c(u,{value:e.circle,onChange:n=>{const t=s.cloneDeep(r);t[o].circle=n,a(t)}})},{title:"件重",dataIndex:"singleWeight",align:"center",render:(l,e,o)=>c(p,{value:e.singleWeight,onChange:n=>{const t=s.cloneDeep(r);t[o].singleWeight=n,a(t)}})},{title:"数量",dataIndex:"quantity",align:"center",render:(l,e,o)=>c(p,{value:e.quantity,onChange:n=>{const t=s.cloneDeep(r);t[o].quantity=n,a(t)}})},{title:"操作",align:"center",render:(l,e,o)=>c(v,{type:"text",onClick:()=>w(e.id,o),children:"删除"})}],w=async(l,e)=>{l&&await b(l),a(r.filter((o,n)=>n!==e))},[C,m]=f.useState([]);return c(R,{columns:y,data:r,pagination:!1,rowKey:"nanoid",rowSelection:{type:"checkbox",selectedRowKeys:C,onChange:(l,e)=>{m(l),h(e)}}})};export{k as default};
