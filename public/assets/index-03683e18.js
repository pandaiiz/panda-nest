import{r as t,Y as y,Z as g,a as w,j as e,S as C,B as x,T as b,aK as R}from"./index-f1de8f67.js";import{C as T}from"./index-0b718c96.js";import"./index-27455959.js";import{T as E}from"./index-0a89d5bb.js";import K from"./form-ac90576a.js";import{getColumns as j}from"./constants-c0c56a87.js";import{g as k}from"./service-f1e708a2.js";import{s as P}from"./index.module-6d5fffca.js";import v from"./index-9b4922b4.js";import{I as B}from"./index-37fb018e.js";import"./index-3c2c95a8.js";import"./index.browser-7e542916.js";import"./index-20ab7ad4.js";const{Title:D}=b;function G(){const[c,a]=t.useState(!1),[m,r]=t.useState([]),[l,i]=t.useState([]),[s,p]=t.useState({}),{data:d,loading:u,run:n}=y(k),f=t.useMemo(()=>j(),[]);g(async()=>{await n(s)},[JSON.stringify(s)]);function h(o){p(R.cloneDeep(o))}return w(T,{children:[e(D,{heading:6,children:"开料"}),e(K,{onSearch:h}),e("div",{className:P["button-group"],children:e(C,{children:e(x,{type:"primary",icon:e(B,{}),onClick:()=>a(!0),children:"开料"})})}),e(E,{rowKey:"id",loading:u,pagination:!1,columns:f,data:d,rowSelection:{type:"checkbox",selectedRowKeys:m,onChange:(o,S)=>{r(o),i(S)}}}),c&&e(v,{data:l,onClose:()=>{a(!1),i([]),r([]),n(s)}})]})}export{G as default};
